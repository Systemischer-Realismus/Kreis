<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KREIS – Oberfläche</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body class="index-surface">

  <section class="hero-kreis">

    <!-- Erde -->
    <div class="earth-container">
        <img src="erde.webp" class="earth">
    </div>

    <!-- Raumschiff -->
    <div class="ship-text">Raumschiff</div>

    <!-- Kreis -->
    <a id="kreisLink" href="start.html" class="kreis-button">
        klicke bitte hier
    </a>

    <!-- Grundsatz IN der Erde -->
    <div class="grundsatz still">
        Die Erde ist kein Eigentum!<br>
        Alle Systeme dieser Welt haben ein Recht auf Kreisläufe,<br>
        die Lebensräume erhalten, auf erweiterte Reproduktion<br>
        und damit auf Evolution.
    </div>

  </section>

  <!-- Fortschritt auslesen und Erde drehen -->
  <script>
    // Fortschritt aus den Kapiteln lesen
    const progress = Number(localStorage.getItem("kreisProgress")) || 0;

    // Gesamtzahl der Kapitel-Schritte (Kapitel_00 bis Kapitel_113)
    const totalSteps = 113;

    // Berechnung der Winkel
    const rotation = progress * (360 / totalSteps);
    const tilt = 180 - progress * (180 / totalSteps);

    // Erde transformieren
    const earth = document.querySelector(".earth");
    earth.style.transform = `rotateZ(${rotation}deg) rotateX(${tilt}deg)`;

    // Optional: Leser zurück in das letzte Kapitel führen
    const last = localStorage.getItem("lastChapter");
    if (last) {
      document.getElementById("kreisLink").href = last;
    }
  </script>

</body>
</html>